<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>프로미스 연습</title>
  </head>

  <script>
    const onClickThen = () => {
      new Promise((resolve, reject) => {
        try {
          // 여기서 API 요청을 한다면?
          setTimeout(() => {
            const response = "강아지"; // 2초가 걸려서 백엔드에서 "강아지" 데이터를 받아옴.
            resolve(response); // 성공하면 실행
          }, 2000);
        } catch (error) {
          reject("실패했습니다!"); // 실패하면 실행
        }
      })
        .then((res) => {
          console.log(res); // "강아지" 데이터 출력
        })
        .catch((err) => {
          console.log(err); // error.message 실패 출력
        });
    };
    const onClickAwait = async () => {
      const result = await new Promise((resolve, reject) => {
        try {
          // 여기서 API 요청을 한다면?
          setTimeout(() => {
            const response = "강아지"; // 2초가 걸려서 백엔드에서 "강아지" 데이터를 받아옴.
            resolve(response); // 성공하면 실행
          }, 2000);
        } catch (error) {
          reject(error.message); // 실패하면 실행
        }
      });
      console.log(result); // 강아지 출력
    };
  </script>

  <body>
    <button onclick="onClickThen()">Promise 실행( .then() )</button>
    <button onclick="onClickAwait()">Promise 실행( await )</button>
  </body>
</html>
